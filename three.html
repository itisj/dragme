<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>meeting</title>
  <!-- <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/resources/demos/style.css"> -->
  <style>
  html {background: rgb(255,0,95);
background: radial-gradient(circle, rgba(255,0,95,1) 2%, rgba(255,162,0,1) 17%, rgba(0,0,0,1) 20%, rgba(0,0,0,1) 100%);}
  body { overflow: hidden;}
  .draggable { padding: 0px; margin: 0; mix-blend-mode: difference; }
  .ui-widget-header p, .ui-widget-content p { margin: 0; }
  #snaptarget { height: 50vh; }

video {
  cursor: grab;
}

  /* grid */
  .container {
  width: 99vw;
  height: 96vh;
  display: grid; 
  grid-auto-columns: 1fr; 
  grid-template-columns: 1fr 1fr 1fr; 
  grid-template-rows: 1fr 1fr 1fr 0.3fr; 
  gap: 0px 0px; 
  grid-template-areas: 
    "one one two"
    "one one three"
    "four five six"
    "footer footer footer"; 
}
.one { grid-area: one; mix-blend-mode: difference; }
.two { grid-area: two; mix-blend-mode: difference;}
.three { grid-area: three; mix-blend-mode: difference;}
.four { grid-area: four; mix-blend-mode: difference;}
.five { grid-area: five; mix-blend-mode: difference;}
.six { grid-area: six; mix-blend-mode: difference;}
.footer { grid-area: footer; }

  </style>
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="https://unpkg.com/hydra-synth"></script>
  <script>
  $( function() {
    $( "#draggable" ).draggable({ snap: true });
    $( "#draggable2" ).draggable({ snap: true });
    $( "#draggable3" ).draggable({ snap: true });
    $( "#draggable4" ).draggable({ snap: true });
    $( "#draggable5" ).draggable({ snap: true });
    $( "#draggable6" ).draggable({ snap: true });
    $( "#draggable7" ).draggable({ snap: true });
    $( "#draggable8" ).draggable({ snap: true });
    $( "#draggable9" ).draggable({ snap: true });
    $( "#draggablefooter" ).draggable({ snap: true });
    // $( "#draggable4" ).draggable({ snap: ".ui-widget-header", snapMode: "inner" });
    // $( "#draggable3" ).draggable({ snap: ".ui-widget-header", snapMode: "outer" });
    // $( "#draggable4" ).draggable({ grid: [ 20, 20 ] });
    // $( "#draggable5" ).draggable({ grid: [ 80, 80 ] });
  } );


  //webcam

  window.onload = function() {

//add constraints object
var constraints = { audio: false,
                    video: true};

//call getUserMedia, then the magic
navigator.mediaDevices.getUserMedia(constraints).then(function(mediaStream){
    var video = document.querySelector('#cam1');
    // var video = document.querySelector('#cam1');
    // var video = document.querySelector('#cam1');
    video.srcObject = mediaStream;
    video.play();
}).catch(function(err){
    console.log("yikes, and err!" + err.message);
});

navigator.mediaDevices.getUserMedia(constraints).then(function(mediaStream2){
    var video = document.querySelector('#cam2');
    // var video = document.querySelector('#cam1');
    // var video = document.querySelector('#cam1');
    video.srcObject = mediaStream2;
    video.play();
}).catch(function(err){
    console.log("yikes, and err!" + err.message);
});

navigator.mediaDevices.getUserMedia(constraints).then(function(mediaStream3){
    var video = document.querySelector('#cam3');
    // var video = document.querySelector('#cam1');
    // var video = document.querySelector('#cam1');
    video.srcObject = mediaStream3;
    video.play();
}).catch(function(err){
    console.log("yikes, and err!" + err.message);
});

navigator.mediaDevices.getUserMedia(constraints).then(function(mediaStream4){
    var video = document.querySelector('#cam4');
    // var video = document.querySelector('#cam1');
    // var video = document.querySelector('#cam1');
    video.srcObject = mediaStream4;
    video.play();
}).catch(function(err){
    console.log("yikes, and err!" + err.message);
});

navigator.mediaDevices.getUserMedia(constraints).then(function(mediaStream5){
    var video = document.querySelector('#cam5');
    // var video = document.querySelector('#cam1');
    // var video = document.querySelector('#cam1');
    video.srcObject = mediaStream5;
    video.play();
}).catch(function(err){
    console.log("yikes, and err!" + err.message);
});

navigator.mediaDevices.getUserMedia(constraints).then(function(mediaStream6){
    var video = document.querySelector('#cam6');
    // var video = document.querySelector('#cam1');
    // var video = document.querySelector('#cam1');
    video.srcObject = mediaStream6;
    video.play();
}).catch(function(err){
    console.log("yikes, and err!" + err.message);
});

navigator.mediaDevices.getUserMedia(constraints).then(function(mediaStream7){
    var video = document.querySelector('#cam7');
    // var video = document.querySelector('#cam1');
    // var video = document.querySelector('#cam1');
    video.srcObject = mediaStream7;
    video.play();
}).catch(function(err){
    console.log("yikes, and err!" + err.message);
});

navigator.mediaDevices.getUserMedia(constraints).then(function(mediaStream8){
    var video = document.querySelector('#cam8');
    // var video = document.querySelector('#cam1');
    // var video = document.querySelector('#cam1');
    video.srcObject = mediaStream8;
    video.play();
}).catch(function(err){
    console.log("yikes, and err!" + err.message);
});

navigator.mediaDevices.getUserMedia(constraints).then(function(mediaStream9){
    var video = document.querySelector('#cam9');
    // var video = document.querySelector('#cam1');
    // var video = document.querySelector('#cam1');
    video.srcObject = mediaStream9;
    video.play();
}).catch(function(err){
    console.log("yikes, and err!" + err.message);
});

}
  </script>
</head>
<body>


    <div style="color: cornsilk; font-size: 16px; font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    position: absolute; top: 300%; left: 20%; width: 600px;">
       <h1>Reflections in action</h1>
       <h3>It doesn't have to be 3D</h3>
       <p>
        After finishing the first branch, I had more thoughts on the
         "second person" controller. Beyond the typical game-like movement,
          grabbing and moving the image of oneself also can be a kind of 
          "second-person" control.
       </p>
       <img src="./img/01.PNG" width="90%">
       <h3>Multiplayer, or how to fake a multiplayer game</h3>
       <p>
        I was thinking about making this branch to be multiplayer, 
        the brief idea is that each player can control others' 
        webcam canvas, move them, turn on or off them, blend 
        them with others, and so on. Simply put, players as game AIs. 
        Patrick kindly introduced "fake" multiplayer games to me, 
        how you can pretend it to be multiplayer with game AIs. However, 
        considering the time I have, I might not be able to develop a 
        multiplayer system, neither an AI system. That leads me to 
        think about how to design this project only with the webcam 
        image of oneself. 
       </p>
       <img src="./img/02.PNG" width="90%">
       <h3>Online meetings, the interface has already become a cliche</h3>
       <img src="./img/003.PNG" width="90%">
       <p>
        The interfaces of online meetings have become the 
        most common and the most familiar thing for us. My approach 
        here is to make the interface as usual at first look.  
       </p>
       <img src="./img/04.PNG" width="90%">
       <p>
        Different from the common online meeting interface, 
        users cannot turn on or off the camera, and the dock at 
        the bottom doesn't provide any functions.  
       </p>
       <img src="./img/05.PNG" width="90%">
       <p>
        Although clicking around might be the common action 
        that users would do when they receive no feedback from 
        an interface, I still worried that users wouldn't find 
        all the elements are draggable. So I changed the cursor 
        from normal to grab when it is hovering on these elements. 
        I think it is enough to inform the players that there are 
        some interactions here, but also not too obvious to blow 
        its cover as a normal online meeting interface.  
       </p>
       <img src="./img/06.PNG" width="40%">
       <h3>Blend mode</h3>
       <p>
        I was a bit struggling with adding more visual elements 
        to those webcam canvases. Since they are already draggable, 
        it's almost promised that they will be overlapped during movement. 
        That's why I changed their blend mode to different, 
        they will be common only until overlapped with others. 
        Consciously or unconsciously, I was inspired by this work,
        <a href="https://autoscopia.net/pages/index.html">AUTOSCOPIA.</a> 
         It took me some time to remind this project, 
        and I mention here not only to give it credit but also it 
        is an interesting work on its own. 
       </p>
       <img src="./img/07.PNG" width="90%">
       <h3>The possible space, explore with the function bar.</h3>
       <p>
        To some point, using the function bar to explore the space 
        outside of the bottom and the right is an accident. 
        I hide this web's scroll bar to limit users' control. 
        But I found out that when I drag one element outside of 
        the window's border, I still can access those outer spaces. 
        The idea of possible space is very inspirational here. 
        Those outer spaces seem to be very negative possible spaces, 
        for the reason there's nothing out there and it doesn't 
        make sense at all. However, the positivity and negativity 
        of possible space are not absolute, it can be altered by 
        design. It's like cheats in a video game, I can create 
        some interesting interactions here. 
       </p>
       <img src="./img/08.PNG" width="90%">
       <p>
        The position of this function bar is also by design. 
        Some online meetings arrange this kind of function on 
        the top of a screen, like Teams. The reason I place it 
        right at the bottom and make its width the same as windows 
        width is that the user only needs to move a small distance 
        to discover that there is hidden space to the bottom 
        and the right. 
       </p>
       <img src="./img/09.PNG" width="90%">
       <img src="./img/10.PNG" width="90%">

       <h3>The loop</h3>
       <p>
        Is there a way to make that infinite outer space has 
        some kind of closure, instead of going on and on without 
        direction? I was watching this movie: Edge of Tomorrow 
        the other night, and it inspired me to add a checkpoint 
        at the edge that leads the players to the beginning. Here, 
        I add more visual elements to the following variants to 
        make the interface repeating itself but also having 
        something new. Patrick mentioned a similar idea by 
        introducing the game Manifold Garden to me
       </p>
       <img src="./img/11.PNG" width="90%">
   </div>

<div style="background-color: white; width: 200px; height: 200px; position: absolute; top: 2700px; left: 4800px; 
font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif; font-size: 20px; padding: 20px;">
    <a href="./four.html">Let's back to the begining, shall we?</a>
  </div>

  <div class="codeblock">
    <code style="display: none;">noise(2, 0.6).blend(osc(6,-0.2,() => mouse.x*0.001)).rotate(0, 0.5)
      .modulate(osc(5).rotate(0, -0.2), 0.5)
      .out(o0)
      
      src(o0).blend(o0).scale(() => 0.3 + mouse.x*0.0005,1,1)
      .modulate(o0, 0.5)
      .out(o1)
      
      src(o1).blend(o1).rotate(0, 0.5)
      .modulate(o1, 0.5)
      .out(o2)
      
      src(o2).blend(o2).rotate(0, 0.5)
      .modulate(o2, 0.5)
      .out(o3)
      
      render(o3)</code>
    <div class="placeholder">
      <canvas id="hydraCanvas" style="position: absolute;"></canvas>
    </div>
  </div>
 
<!-- <div id="snaptarget" class="ui-widget-header">
  <p>I&apos;m a snap target</p>
</div> -->
 
<!-- <br style="clear:both"> -->

<div class="container">

<div id="draggable" class="one" style="background-color: aqua;">
  <video id="cam1" style="width: 66vw; height: 60vh; object-fit: cover;"></video>
</div>

<div id="draggable2" class="two" style="background-color: blueviolet;">
  <video id="cam2" style="width: 33vw; height: 30vh; object-fit: cover;"></video>
</div>

<div id="draggable3" class="three" style="background-color: coral;">
  <video id="cam3" style="width: 33vw; height: 30vh; object-fit: cover;"></video>
</div>

<div id="draggable4" class="four" style="background-color: cornflowerblue;">
  <video id="cam4" style="width: 33vw; height: 30vh; object-fit: cover;"></video>
</div>

<div id="draggable5" class="five" style="background-color: cornsilk;">
  <video id="cam5" style="width: 33vw; height: 30vh; object-fit: cover;"></video>
</div>

<div id="draggable6" class="six" style="background-color: crimson;">
  <video id="cam6" style="width: 33vw; height: 30vh; object-fit: cover;"></video>
</div>

<div class="footer" id="draggablefooter">
  <img src="./img/footer.PNG" style="width: 99vw; cursor: grab; mix-blend-mode: difference;">
</div>

<!-- <div id="draggable7" class="draggable ui-widget-content" style="background-color: darkgreen;">
  <video id="cam7" style="width: 192px; height: 108px;"></video>
</div>

<div id="draggable8" class="draggable ui-widget-content" style="background-color: darksalmon;">
  <video id="cam8" style="width: 192px; height: 108px;"></video>
</div>

<div id="draggable9" class="draggable ui-widget-content" style="background-color: deepskyblue;">
  <video id="cam9" style="width: 192px; height: 108px;"></video>
</div> -->
 
<!-- <div id="draggable4" class="draggable ui-widget-content">
  <p>I only snap to the big box</p>
</div> -->
 
<!-- <div id="draggable3" class="draggable ui-widget-content">
  <p>I only snap to the outer edges of the big box</p>
</div>
 
<div id="draggable4" class="draggable ui-widget-content">
  <p>I snap to a 20 x 20 grid</p>
</div>
 
<div id="draggable5" class="draggable ui-widget-content">
  <p>I snap to a 80 x 80 grid</p>
</div> -->

<!-- <div style="top: 2000px; left: 20px; position: absolute;">
  <img src="./img/who.gif">
</div> -->

</div>


 
<script src="./zero.js"></script>
 
</body>
</html>